> Sys.setlocale("LC_COLLATE", "C")
[1] "C"
> Sys.setlocale("LC_TIME", "C")
[1] "C"
> Sys.setenv(TZ='EST') # so that tests that print out time zone work everywhere
> options(error = function() NULL, showErrorCalls = FALSE, warn=1)
> dateSeq("2008-12-20", "2009-1-10")
 [1] "2008-12-20" "2008-12-21" "2008-12-22" "2008-12-23" "2008-12-24"
 [6] "2008-12-25" "2008-12-26" "2008-12-27" "2008-12-28" "2008-12-29"
[11] "2008-12-30" "2008-12-31" "2009-01-01" "2009-01-02" "2009-01-03"
[16] "2009-01-04" "2009-01-05" "2009-01-06" "2009-01-07" "2009-01-08"
[21] "2009-01-09" "2009-01-10"
>
> dateSeq("2008-12-20", "2009-1-10", by = "days")
 [1] "2008-12-20" "2008-12-21" "2008-12-22" "2008-12-23" "2008-12-24"
 [6] "2008-12-25" "2008-12-26" "2008-12-27" "2008-12-28" "2008-12-29"
[11] "2008-12-30" "2008-12-31" "2009-01-01" "2009-01-02" "2009-01-03"
[16] "2009-01-04" "2009-01-05" "2009-01-06" "2009-01-07" "2009-01-08"
[21] "2009-01-09" "2009-01-10"
>
> dateSeq("2008-12-20", "2009-1-10", by = "days", k.by = 2)
 [1] "2008-12-21" "2008-12-23" "2008-12-25" "2008-12-27" "2008-12-29"
 [6] "2008-12-31" "2009-01-02" "2009-01-04" "2009-01-06" "2009-01-08"
>
> dateSeq("2008-12-20", "2009-1-10", by = "weeks", k.by = 1)
[1] "2008-12-20" "2008-12-27" "2009-01-03" "2009-01-10"

> dateSeq("2008-12-20", "2009-1-10", by = "weeks")
[1] "2008-12-20" "2008-12-27" "2009-01-03" "2009-01-10"

> dateSeq("2008-12-20", "2009-1-10", by = "weeks", k.by = 2)
[1] "2008-12-20" "2009-01-03"

> dateSeq("2008-12-20", "2009-1-11", by = "weeks")
[1] "2008-12-20" "2008-12-27" "2009-01-03" "2009-01-10"

> dateSeq("2008-12-20", "2009-1-9", by = "weeks")
[1] "2008-12-20" "2008-12-27" "2009-01-03"
> 
> # Check class of return value
> class(dateSeq("2008-12-20", "2009-1-9", by = "weeks"))
[1] "character"
> class(dateSeq(as.Date("2008-12-20"), "2009-1-9", by = "weeks"))
[1] "Date"
> class(dateSeq(as.POSIXct("2008-12-20"), "2009-1-9", by = "weeks"))
[1] "POSIXct" "POSIXt" 
> class(dateSeq(as.POSIXlt("2008-12-20"), "2009-1-9", by = "weeks"))
[1] "POSIXlt" "POSIXt" 
> 
> library(Holidays)
#@ ignore-output

> dateSeq("2008-12-20", "2009-1-10", by = "days", holidays = "NYSEC")
 [1] "2008-12-20" "2008-12-21" "2008-12-22" "2008-12-23" "2008-12-24"
 [6] "2008-12-25" "2008-12-26" "2008-12-27" "2008-12-28" "2008-12-29"
[11] "2008-12-30" "2008-12-31" "2009-01-01" "2009-01-02" "2009-01-03"
[16] "2009-01-04" "2009-01-05" "2009-01-06" "2009-01-07" "2009-01-08"
[21] "2009-01-09" "2009-01-10"
> 
> dateSeq("2008-12-20", "2009-1-10", by = "bizdays", holidays = "NYSEC")
 [1] "2008-12-22" "2008-12-23" "2008-12-24" "2008-12-26" "2008-12-29"
 [6] "2008-12-30" "2008-12-31" "2009-01-02" "2009-01-05" "2009-01-06"
[11] "2009-01-07" "2009-01-08" "2009-01-09"
>
> dateSeq("2008-12-20", "2009-1-10", by = "bizdays")
 [1] "2008-12-22" "2008-12-23" "2008-12-24" "2008-12-25" "2008-12-26"
 [6] "2008-12-29" "2008-12-30" "2008-12-31" "2009-01-01" "2009-01-02"
[11] "2009-01-05" "2009-01-06" "2009-01-07" "2009-01-08" "2009-01-09"
>
> dateSeq(range=c("1960-01-01","1960-01-10"),by="days")
 [1] "1960-01-01" "1960-01-02" "1960-01-03" "1960-01-04" "1960-01-05"
 [6] "1960-01-06" "1960-01-07" "1960-01-08" "1960-01-09" "1960-01-10"
>
> dateSeq(range=c("1960-01-01","1960-01-10"),k.by=2, by="days")
[1] "1960-01-01" "1960-01-03" "1960-01-05" "1960-01-07" "1960-01-09"
>
> dateSeq(from="1960-01-01", to="1960-01-10", k.by=2, by="days")
[1] "1960-01-01" "1960-01-03" "1960-01-05" "1960-01-07" "1960-01-09"
> dateSeq(from="1960-01-01", k.by=2, length.out=5, by="days")
[1] "1960-01-01" "1960-01-03" "1960-01-05" "1960-01-07" "1960-01-09"
> dateSeq(to="1960-01-10", k.by=2, length.out=5, by="days")
[1] "1960-01-01" "1960-01-03" "1960-01-05" "1960-01-07" "1960-01-09"
>
> dateSeq(from="1960-01-01", to="1960-01-10", by="days")
 [1] "1960-01-01" "1960-01-02" "1960-01-03" "1960-01-04" "1960-01-05"
 [6] "1960-01-06" "1960-01-07" "1960-01-08" "1960-01-09" "1960-01-10"
>
> dateSeq(from="1960-01-01", to="1960-01-20", by="weeks")
[1] "1960-01-01" "1960-01-08" "1960-01-15"
> dateSeq(from="1960-01-01", length.out=3, by="weeks")
[1] "1960-01-01" "1960-01-08" "1960-01-15"
> dateSeq(to="1960-01-20", length.out=3, by="weeks")
[1] "1960-01-06" "1960-01-13" "1960-01-20"
> dateSeq(to="1960-01-15", length.out=3, by="weeks")
[1] "1960-01-01" "1960-01-08" "1960-01-15"
>
> dateSeq(from="1960-01-01", to="1960-01-20", by="weeks",week.align=0,extend=FALSE)
[1] "1960-01-03" "1960-01-10" "1960-01-17"
> dateSeq(from="1960-01-01", length.out=3, by="weeks",week.align=0,extend=FALSE)
[1] "1960-01-03" "1960-01-10" "1960-01-17"
> dateSeq(to="1960-01-20", length.out=3, by="weeks",week.align=0,extend=FALSE)
[1] "1960-01-03" "1960-01-10" "1960-01-17"
>
> dateSeq(from="1960-01-01", to="1960-01-20", by="weeks",week.align=0,extend=TRUE)
[1] "1959-12-27" "1960-01-03" "1960-01-10" "1960-01-17" "1960-01-24"
> dateSeq(from="1960-01-01", length.out=5, by="weeks",week.align=0,extend=TRUE)
[1] "1959-12-27" "1960-01-03" "1960-01-10" "1960-01-17" "1960-01-24"
> dateSeq(to="1960-01-20", length.out=5, by="weeks",week.align=0,extend=TRUE)
[1] "1959-12-27" "1960-01-03" "1960-01-10" "1960-01-17" "1960-01-24"
>
> dateSeq(from="1960-01-01", to="1960-06-01", by="months")
[1] "1960-01-01" "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01"
[6] "1960-06-01"
> dateSeq(to="1960-06-01", length.out=6, by="months")
[1] "1960-01-01" "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01"
[6] "1960-06-01"
> dateSeq(from="1960-01-01", length.out=6, by="months")
[1] "1960-01-01" "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01"
[6] "1960-06-01"
>
> dateSeq(from="1960-01-06", length.out=5, by="months")
[1] "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01" "1960-06-01"
> dateSeq(to="1960-06-01", length.out=5, by="months")
[1] "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01" "1960-06-01"
>
> dateSeq(from="1960-01-06", length.out=5, by="months",align.by=TRUE)
[1] "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01" "1960-06-01"
> dateSeq(to="1960-06-01", length.out=5, by="months",align.by=TRUE)
[1] "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01" "1960-06-01"
>
> dateSeq(from="1960-01-06", length.out=5, by="months",align.by=TRUE,extend=TRUE)
[1] "1960-01-01" "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01"
> dateSeq(to="1960-05-01", length.out=5, by="months",align.by=TRUE,extend=TRUE)
[1] "1960-01-01" "1960-02-01" "1960-03-01" "1960-04-01" "1960-05-01"
>
> dateSeq(from="1960-01-06", length.out=5, by="years")
[1] "1961-01-01" "1962-01-01" "1963-01-01" "1964-01-01" "1965-01-01"
> dateSeq(to="1965-01-01", length.out=5, by="years")
[1] "1961-01-01" "1962-01-01" "1963-01-01" "1964-01-01" "1965-01-01"
>
> dateSeq(from="1960-01-06", length.out=5, by="years",align.by=TRUE)
[1] "1961-01-01" "1962-01-01" "1963-01-01" "1964-01-01" "1965-01-01"
> dateSeq(to="1965-01-01", length.out=5, by="years",align.by=TRUE)
[1] "1961-01-01" "1962-01-01" "1963-01-01" "1964-01-01" "1965-01-01"
>
> dateSeq(from="1960-01-06", length.out=5, by="years",align.by=TRUE,extend=TRUE)
[1] "1960-01-01" "1961-01-01" "1962-01-01" "1963-01-01" "1964-01-01"
> dateSeq(to="1964-01-01", length.out=5, by="years",align.by=TRUE,extend=TRUE)
[1] "1960-01-01" "1961-01-01" "1962-01-01" "1963-01-01" "1964-01-01"
>
> dateSeq(from="2000-01-06", length.out=5, by="bizdays")
[1] "2000-01-06" "2000-01-07" "2000-01-10" "2000-01-11" "2000-01-12"
> dateSeq(to="2000-01-12", length.out=5, by="bizdays")
[1] "2000-01-06" "2000-01-07" "2000-01-10" "2000-01-11" "2000-01-12"
> 
> dateSeq(from="2000-01-14", length.out=5, by="bizdays")
[1] "2000-01-14" "2000-01-17" "2000-01-18" "2000-01-19" "2000-01-20"
> dateSeq(to="2000-01-20", length.out=5, by="bizdays")
[1] "2000-01-14" "2000-01-17" "2000-01-18" "2000-01-19" "2000-01-20"
> 
> dateSeq(from="2000-01-14", length.out=5, by="bizdays",holidays='NYSEC')
[1] "2000-01-14" "2000-01-18" "2000-01-19" "2000-01-20" "2000-01-21"
> dateSeq(to="2000-01-21", length.out=5, by="bizdays",holidays='NYSEC')
[1] "2000-01-14" "2000-01-18" "2000-01-19" "2000-01-20" "2000-01-21"
>
> length(dateSeq("2008/1/2", "2008/1/1"))
#@ ignore-linebreaks
Warning in dateSeq.default("2008/1/2", "2008/1/1") :
  'from' date is later in time than the 'to' date.
[1] 0
> # Empty Date prints to look like empty character!
> length(structure(numeric(0), class='Date'))
[1] 0
> class(structure(numeric(0), class='Date'))
[1] "Date"
> str(structure(numeric(0), class='Date'))
Class 'Date'  num(0) 
> class(dateSeq('2011-12-18','2011-12-18', by='bizdays'))
[1] "character"
> class(dateSeq(as.Date('2011-12-18'),'2011-12-18', by='bizdays'))
[1] "Date"
> class(dateSeq('2011-12-18','2011-12-18', by='days'))
[1] "character"
> class(dateSeq(as.Date('2011-12-18'),'2011-12-18', by='days'))
[1] "Date"
> dateSeq('2011-12-18','2011-12-18', by='days')
[1] "2011-12-18"
> dateSeq(as.Date('2011-12-18'),'2011-12-18', by='days')
[1] "2011-12-18"
> length(dateSeq('2011-12-18','2011-12-18', by='bizdays'))
[1] 0
> # regression test: used to incorrectly return '2013-01-21' as a member of this sequence (it's a holiday)
> length(dateSeq('2013-01-19', '2013-01-21', by='bizdays@NYSEC'))
[1] 0
>
